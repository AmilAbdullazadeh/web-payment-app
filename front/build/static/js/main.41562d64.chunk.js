(this["webpackJsonpweb-payment-app"]=this["webpackJsonpweb-payment-app"]||[]).push([[0],{41:function(e,t,c){},42:function(e,t,c){},51:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),r=c(16),i=c.n(r),s=(c(40),c(41),c(42),c(15)),l=c(7),d=c(6),j=c(53),o=c(54),b=c(35),u=c(58),O=c(1);var x=function(e){var t=e.category;return Object(O.jsx)(u.a,{className:"my-3 p-3 card-container rounded",children:Object(O.jsx)(u.a.Body,{children:Object(O.jsx)(s.b,{to:"/category/".concat(t.id),children:Object(O.jsx)(u.a.Title,{as:"div",children:Object(O.jsx)("strong",{children:t.name})})})})})},h=c(56);var m=function(e){var t=e.variant,c=e.children;return Object(O.jsx)(h.a,{variant:t,children:c})},p=[{id:"1",name:"Mobile",providers:[{id:"1",name:"Bakcell",fields:[{id:"prefix_id",type:4,label:"Prefix",options:[{k:"1",v:"055"}]},{id:"phone_number",type:2,label:"Phone number"}]},{id:"2",name:"Nar",fields:[{id:"prefix_id",type:4,label:"Prefix",options:[{k:"1",v:"055"},{k:"2",v:"077"}]}]},{id:"3",name:"Azercell",fields:[{id:"prefix_id",type:4,label:"Prefix",options:[{k:"1",v:"050"},{k:"2",v:"051"}]}]}]},{id:"2",name:"Utilities",providers:[{id:"1",name:"Azeriqaz",fields:[{id:"subscriber_id",type:1,label:"Subscriber"}]},{id:"2",name:"Azerisu",fields:[{id:"prefix_id",type:4,label:"Prefix",options:[{k:"1",v:"Residential"},{k:"2",v:"Commercial"}]},{id:"subscriber_id",type:1,label:"Subscriber"}]},{id:"3",name:"Grand Hayat",fields:[{id:"client_code",type:2,label:"Client code"}]}]}],v=Object(a.createContext)(p);var g=function(){var e=Object(a.useState)(),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(!0),i=Object(d.a)(r,2),s=i[0],l=i[1],u=Object(a.useState)(null),h=Object(d.a)(u,2),p=h[0],g=h[1],f=Object(a.useContext)(v);return Object(a.useEffect)((function(){try{n(f)}catch(p){console.error(p),g(p)}finally{l(!1)}}),[]),s?"Loading...":p?Object(O.jsx)(m,{variant:"danger",children:p}):Object(O.jsxs)(j.a,{children:[Object(O.jsx)("h1",{children:"Categories"}),Object(O.jsx)("div",{children:Object(O.jsx)(o.a,{children:c.map((function(e){return Object(O.jsx)(b.a,{sm:12,md:6,lg:4,xl:3,children:Object(O.jsx)(x,{category:e})},e.id)}))})})]})};var f=function(e){var t=e.provider,c=e.categoryId;return Object(O.jsx)(u.a,{className:"my-3 p-3 card-container rounded",children:Object(O.jsx)(u.a.Body,{children:Object(O.jsx)(s.b,{to:"/form/".concat(c,"/").concat(t.id),children:Object(O.jsx)(u.a.Title,{as:"div",children:Object(O.jsx)("strong",{children:t.name})})})})})};var y=function(e){var t=e.match,c=(e.history,t.params.id),n=Object(a.useState)(),r=Object(d.a)(n,2),i=(r[0],r[1]),l=Object(a.useState)(),u=Object(d.a)(l,2),x=u[0],h=u[1],p=Object(a.useState)(!0),g=Object(d.a)(p,2),y=g[0],S=g[1],C=Object(a.useState)(null),N=Object(d.a)(C,2),I=N[0],L=N[1],k=Object(a.useContext)(v);return Object(a.useEffect)((function(){try{var e=k.filter((function(e){return e.id===c}));i(e[0]),h(e[0])}catch(I){console.error(I),L(I)}finally{S(!1)}}),[]),y?"Loading...":I?Object(O.jsx)(m,{variant:"danger",children:I}):Object(O.jsxs)(j.a,{children:[Object(O.jsx)("h1",{children:"Providers"}),Object(O.jsx)(s.b,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),Object(O.jsx)("div",{children:Object(O.jsx)(o.a,{children:x.providers.map((function(e){return Object(O.jsx)(b.a,{sm:12,md:6,lg:4,xl:3,children:Object(O.jsx)(f,{categoryId:c,provider:e})},e.id)}))})})]})},S=c(55),C=c(57),N=c.p+"static/media/checked.6f298cca.png";var I=function(e){var t=e.dataReceipt;return Object(O.jsx)(j.a,{className:"d-flex justify-content-center",children:Object(O.jsxs)(u.a,{className:"my-3 p-3 card-container rounded",children:[Object(O.jsx)("img",{style:{alignSelf:"center"},width:"85",src:N,alt:"Logo"}),t&&Object(O.jsxs)(u.a.Body,{children:[Object(O.jsxs)(u.a.Title,{as:"div",children:[Object(O.jsx)("span",{className:"text-success",children:"Payment id: "})," ",Object(O.jsx)("strong",{children:t.id})]}),Object(O.jsxs)(u.a.Title,{as:"div",children:[Object(O.jsx)("span",{className:"text-success",children:"Transaction date: "})," ",Object(O.jsx)("strong",{children:t.date})]}),Object(O.jsxs)(u.a.Title,{as:"div",children:[Object(O.jsx)("span",{className:"text-success",children:"Transaction details: "}),Object.entries(t.details).map((function(e){var t=Object(d.a)(e,2),c=t[0],a=t[1];return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("strong",{children:[c,": ",a,","]})," ",Object(O.jsx)("br",{})]})}))]}),Object(O.jsxs)(u.a.Title,{as:"div",children:[Object(O.jsx)("span",{className:"text-success",children:"Amount paid: "}),Object(O.jsx)("strong",{children:"".concat(t.amount.value," ").concat(t.amount.currency)})]})]})]})})};var L=function(e){var t=e.match,c=e.history,n=t.params.categoryId,r=t.params.providerId,i=Object(a.useState)(),s=Object(d.a)(i,2),l=s[0],u=s[1],x=Object(a.useState)([]),h=Object(d.a)(x,2),p=h[0],g=h[1],f=Object(a.useState)(!0),y=Object(d.a)(f,2),N=y[0],L=y[1],k=Object(a.useState)(null),_=Object(d.a)(k,2),T=_[0],P=_[1],q=Object(a.useState)(""),G=Object(d.a)(q,2),B=G[0],A=G[1],D=Object(a.useState)(""),E=Object(d.a)(D,2),w=E[0],F=E[1],M=Object(a.useState)(""),V=Object(d.a)(M,2),J=V[0],z=V[1],R=Object(a.useState)(""),U=Object(d.a)(R,2),H=U[0],Y=U[1],K=Object(a.useState)(""),Q=Object(d.a)(K,2),W=Q[0],X=Q[1],Z=Object(a.useState)(""),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ce=Object(a.useState)({}),ae=Object(d.a)(ce,2),ne=ae[0],re=ae[1],ie=Object(a.useState)(!1),se=Object(d.a)(ie,2),le=se[0],de=se[1],je=Object(a.useState)(!1),oe=Object(d.a)(je,2),be=oe[0],ue=oe[1],Oe=Object(a.useState)({}),xe=Object(d.a)(Oe,2),he=xe[0],me=xe[1],pe=Object(a.useState)({}),ve=Object(d.a)(pe,2),ge=ve[0],fe=ve[1],ye=Object(a.useState)(!1),Se=Object(d.a)(ye,2),Ce=Se[0],Ne=Se[1],Ie=Object(a.useContext)(v);Object(a.useEffect)((function(){try{var e=JSON.parse(localStorage.getItem("receiptStorage"));void 0!==e&&null!==e&&(ue(!0),Ne(!0),fe(e));var t=Ie.filter((function(e){return e.id===n})),c=p.filter((function(e){return e.id===r}));g(t[0].providers),u(c[0])}catch(T){console.error(T),P(T)}finally{L(!1)}}),[N,T,be,Ce]);var Le=function(e,t){re((function(c){return c[e]=t,c}))};return N?"Loading...":T?Object(O.jsx)(m,{variant:"danger",children:T}):Object(O.jsxs)(j.a,{children:[Object(O.jsx)(S.a,{onClick:function(){JSON.parse(localStorage.getItem("receiptStorage"));localStorage.removeItem("receiptStorage"),ue(!1),Ne(!1),c.push("/")},className:"btn btn-light my-3",children:"Go back"}),be&&Ce?Object(O.jsx)(I,{dataReceipt:ge}):Object(O.jsx)("div",{children:Object(O.jsx)(C.a,{noValidate:!0,validated:le,onSubmit:function(e){if(ue(!0),!1===e.currentTarget.checkValidity())e.preventDefault(),e.stopPropagation();else{e.preventDefault(),me([{providerId:r,fields:ne,amount:{value:W,currency:ee},card:{number:B,exp_month:w,exp_year:J,cvv:H}}]);var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Math.random().toString(20).substr(2,e)}(200),c=new Date,a=("0"+c.getDate()).slice(-2),n=("0"+(c.getMonth()+1)).slice(-2),i=c.getFullYear(),s=c.getHours(),l=c.getMinutes(),d=c.getSeconds(),j={id:t,date:"".concat(i,"-").concat(n,"-").concat(a,"T").concat(s,":").concat(l,":").concat(d),details:ne,amount:{value:W,currency:ee}};fe(j),localStorage.setItem("receiptStorage",JSON.stringify(j)),Ne(void 0!==ge&&void 0!==he)}de(!0)},children:Object(O.jsxs)(o.a,{children:[Object(O.jsx)(b.a,{sm:12,md:6,lg:4,xl:4,children:Object(O.jsxs)("div",{className:"card-container",children:[l&&l.fields.map((function(e,t){return Object(O.jsx)("div",{children:Object(O.jsxs)(C.a.Group,{className:"mb-2",children:[Object(O.jsx)(C.a.Label,{children:e.label}),4===e.type?Object(O.jsxs)(C.a.Control,{name:e.id,as:"select",required:!0,onChange:function(t){return Le(e.id,t.target.value)},children:[Object(O.jsx)("option",{value:"",children:"Select..."}),e.options.map((function(e){return Object(O.jsx)("option",{value:e.v,children:e.v},e.id)}))]}):Object(O.jsx)(C.a.Control,{required:!0,name:e.id,type:1===e.type?"text":2===e.type&&"phone_number"!==e.id||3===e.type&&"phone_number"!==e.id?"number":5===e.type?"date":"text",placeholder:e.label,maxLength:"phone_number"===e.id?7:55,onChange:function(t){return Le(e.id,t.target.value)}})]})},t)})),Object(O.jsxs)(C.a.Group,{className:"mb-2",controlId:"value",children:[Object(O.jsx)(C.a.Label,{children:"Amount"}),Object(O.jsx)(C.a.Control,{type:"text",placeholder:"Amount",required:!0,value:W,onChange:function(e){return X(e.target.value)}})]}),Object(O.jsxs)(C.a.Group,{className:"mb-2",controlId:"currency",children:[Object(O.jsx)(C.a.Label,{children:"Currency"}),Object(O.jsxs)(C.a.Control,{as:"select",required:!0,value:ee,onChange:function(e){return te(e.target.value)},children:[Object(O.jsx)("option",{value:"",children:"Select..."}),Object(O.jsx)("option",{value:"USD",children:"USD"})]})]})]})}),Object(O.jsx)(b.a,{sm:12,md:6,lg:8,xl:5,children:Object(O.jsxs)("div",{className:"card-container",children:[Object(O.jsx)(b.a,{sm:12,md:12,lg:12,xl:12,children:Object(O.jsxs)(C.a.Group,{className:"mb-2",controlId:"number",children:[Object(O.jsx)(C.a.Label,{children:"Card number"}),Object(O.jsx)(C.a.Control,{type:"text",placeholder:"Card number",required:!0,className:"cardNumber",value:B,maxLength:"19",onChange:function(e){return A(e.target.value)}})]})}),Object(O.jsx)(b.a,{sm:12,md:12,lg:12,xl:12,children:Object(O.jsxs)(o.a,{children:[Object(O.jsxs)(b.a,{sm:12,md:8,lg:6,xl:6,children:[Object(O.jsx)(C.a.Label,{children:"Exp date"}),Object(O.jsxs)(C.a.Group,{className:"exp mb-2",controlId:"exp_month",children:[Object(O.jsx)(C.a.Control,{type:"text",placeholder:"ExpMonth",required:!0,className:"exp-left",value:w,maxLength:"2",onChange:function(e){return F(e.target.value)}}),Object(O.jsx)("span",{className:"exp-line"}),Object(O.jsx)(C.a.Control,{type:"text",placeholder:"ExpYear",required:!0,className:"exp-right",value:J,maxLength:"2",onChange:function(e){return z(e.target.value)}})]})]}),Object(O.jsx)(b.a,{sm:12,md:8,lg:6,xl:6,children:Object(O.jsxs)(C.a.Group,{className:"mb-2",controlId:"cvv",children:[Object(O.jsx)(C.a.Label,{children:"CVV"}),Object(O.jsx)(C.a.Control,{type:"text",placeholder:"CVV",required:!0,className:"cvv",value:H,maxLength:"3",onChange:function(e){return Y(e.target.value)}})]})})]})}),Object(O.jsx)(b.a,{sm:12,md:12,lg:12,xl:12,children:Object(O.jsx)(S.a,{className:"submitButton",variant:"primary",type:"submit",children:"Submit"})})]})})]})})})]})};var k=function(){return Object(O.jsx)(s.a,{children:Object(O.jsx)("div",{className:"App",children:Object(O.jsxs)(v.Provider,{value:p,children:[Object(O.jsx)(l.a,{path:"/",component:g,exact:!0}),Object(O.jsx)(l.a,{path:"/category/:id",component:y}),Object(O.jsx)(l.a,{path:"/form/:categoryId/:providerId",component:L})]})})})},_=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,59)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;c(e),a(e),n(e),r(e),i(e)}))};i.a.render(Object(O.jsx)(n.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root")),_()}},[[51,1,2]]]);
//# sourceMappingURL=main.41562d64.chunk.js.map